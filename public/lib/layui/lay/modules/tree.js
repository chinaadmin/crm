/** layui-v2.2.3 MIT License By http://www.layui.com */
 ;layui.define("jquery",function(e){"use strict";var i=layui.$,o=layui.hint(),a="layui-tree-enter",n=function(e){this.options=e},t={arrow:["&#xe623;","&#xe625;"],checkbox:["&#xe626;","&#xe627;"],radio:["&#xe62b;","&#xe62a;"],branch:["&#xe622;","&#xe624;"],leaf:"&#xe621;"};n.prototype.init=function(e){var i=this;e.addClass("layui-box layui-tree"),i.options.skin&&e.addClass("layui-tree-skin-"+i.options.skin),i.tree(e),i.on(e)},n.prototype.tree=function(e,o){var a=this,n=a.options,r=o||n.nodes;layui.each(r,function(o,r){var l=r.children&&r.children.length>0,s=i('<ul class="'+(r.spread?"layui-show":"")+'"></ul>'),c=i(["<li "+(r.spread?'data-spread="'+r.spread+'"':"")+">",function(){return l?'<i class="layui-icon layui-tree-spread">'+(r.spread?t.arrow[1]:t.arrow[0])+"</i>":'<i class="layui-icon layui-tree-spread" style="visibility: hidden;">&#xe623;</i>'}(),function(){return n.check?1==r.selected?'<input type="checkbox" data-roleid="'+r.id+'" checked />':'<input type="checkbox" data-roleid="'+r.id+'"/>':""}(),function(){return'<a><i class="layui-icon layui-tree-'+(l?"branch":"leaf")+'">'+(l?r.spread?t.branch[1]:t.branch[0]:t.leaf)+"</i></a>"+("<cite>"+(r.menuName||"未命名")+"</cite></a>")}(),"</li>"].join(""));l&&(c.append(s),a.tree(s,r.children)),e.append(c),"function"==typeof n.click&&a.click(c,r),a.spread(c,r),n.drag&&a.drag(c,r)})},n.prototype.click=function(e,i){var o=this,a=o.options;e.children("a").on("click",function(e){layui.stope(e),a.click(i)})},n.prototype.spread=function(e,i){var o=this,a=(o.options,e.children(".layui-tree-spread")),n=e.children("ul"),r=e.children("a"),l=function(){e.data("spread")?(e.data("spread",null),n.removeClass("layui-show"),a.html(t.arrow[0]),r.find(".layui-icon").html(t.branch[0])):(e.data("spread",!0),n.addClass("layui-show"),a.html(t.arrow[1]),r.find(".layui-icon").html(t.branch[1]))};n[0]&&(a.on("click",l),r.on("dblclick",l))},n.prototype.on=function(e){var o=this,n=o.options,t="layui-tree-drag";e.find("i").on("selectstart",function(e){return!1}),n.drag&&i(document).on("mousemove",function(e){var a=o.move;if(a.from){var n=(a.to,i('<div class="layui-box '+t+'"></div>'));e.preventDefault(),i("."+t)[0]||i("body").append(n);var r=i("."+t)[0]?i("."+t):n;r.addClass("layui-show").html(a.from.elem.children("a").html()),r.css({left:e.pageX+10,top:e.pageY+10})}}).on("mouseup",function(){var e=o.move;e.from&&(e.from.elem.children("a").removeClass(a),e.to&&e.to.elem.children("a").removeClass(a),o.move={},i("."+t).remove())})},n.prototype.move={},n.prototype.drag=function(e,o){var n=this,t=(n.options,e.children("a")),r=function(){var t=i(this),r=n.move;r.from&&(r.to={item:o,elem:e},t.addClass(a))};t.on("mousedown",function(){var i=n.move;i.from={item:o,elem:e}}),t.on("mouseenter",r).on("mousemove",r).on("mouseleave",function(){var e=i(this),o=n.move;o.from&&(delete o.to,e.removeClass(a))})},e("tree",function(e){var a=new n(e=e||{}),t=i(e.elem);return t[0]?void a.init(t):o.error("layui.tree 没有找到"+e.elem+"元素")})});